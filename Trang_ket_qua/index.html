<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Trang Kết Quả Học Tập - 2024.1 & 2024.2</title>
    <style>
        :root {
            --primary: #0b76ef;
            --muted: #666;
        }

        body {
            font-family: Inter, Segoe UI, Roboto, Arial;
            line-height: 1.4;
            margin: 20px;
            background: #f6f8fb;
            color: #111;
        }

        .card {
            background: #fff;
            border-radius: 10px;
            box-shadow: 0 6px 18px rgba(22, 30, 50, 0.06);
            padding: 18px;
            margin-bottom: 18px;
        }

        h1 {
            font-size: 20px;
            margin: 0 0 8px;
        }

        .student-info {
            display: flex;
            gap: 18px;
            align-items: center;
        }

        .student-info .meta {
            font-size: 14px;
            color: var(--muted);
        }

        .controls {
            display: flex;
            gap: 8px;
            flex-wrap: wrap;
            margin-top: 12px;
        }

        button {
            background: var(--primary);
            color: #fff;
            border: 0;
            padding: 8px 12px;
            border-radius: 8px;
            cursor: pointer;
        }

        button.secondary {
            background: #3b3b3b;
        }

        button.ghost {
            background: transparent;
            color: var(--primary);
            border: 1px solid rgba(11, 118, 239, 0.14);
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 12px;
        }

        th,
        td {
            padding: 8px 10px;
            border-bottom: 1px solid #eee;
            text-align: left;
            font-size: 14px;
        }

        th {
            background: #fbfdff;
            color: #111;
            position: sticky;
            top: 0;
        }

        tr.highlighted {
            background: #e6fbf5;
        }

        tr.fail {
            background: #111;
            color: #fff;
        }

        .small {
            font-size: 13px;
            color: var(--muted);
        }

        .actions {
            display: flex;
            gap: 8px;
            align-items: center;
        }

        #gpaResults {
            margin-top: 10px;
            font-weight: 600;
        }
    </style>
</head>

<body>
    <div class="card">
        <h1>Trang Kết Quả Học Tập</h1>
        <div class="student-info">
            <div>
                <div style="font-weight:700;font-size:16px">Mai Quốc Đạt</div>
                <div class="meta">MSSV: 20225277 &nbsp;•&nbsp; Email: dat.mq225277@sis.hust.edu.vn</div>
            </div>
        </div>

        <div class="controls">
            <button id="btnHighlight" style="background-color: gold;">Highlight</button>
            <button id="btnGPA">GPA</button>
            <button id="btnFilter" class="ghost">Filter</button>
            <button id="btnSort" class="secondary">Sort</button>
        </div>

        <div id="gpaResults" class="small"></div>

        <table id="gradeTable">
            <thead>
                <tr>
                    <th>Học kỳ</th>
                    <th>Mã học phần</th>
                    <th>Tên học phần</th>
                    <th>Tín chỉ</th>
                    <th>Điểm chữ</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>20241</td>
                    <td>SSH1141</td>
                    <td>Lịch sử Đảng cộng sản Việt Nam</td>
                    <td>2</td>
                    <td>A</td>
                </tr>
                <tr>
                    <td>20241</td>
                    <td>PE2251</td>
                    <td>Taekwondo 1</td>
                    <td>0</td>
                    <td>B</td>
                </tr>
                <tr>
                    <td>20241</td>
                    <td>IT4785</td>
                    <td>Phát triển ứng dụng cho thiết bị di động</td>
                    <td>3</td>
                    <td>B+</td>
                </tr>
                <tr>
                    <td>20241</td>
                    <td>IT4593</td>
                    <td>Nhập môn kỹ thuật truyền thông</td>
                    <td>2</td>
                    <td>D</td>
                </tr>
                <tr>
                    <td>20241</td>
                    <td>IT4172</td>
                    <td>Xử lý tín hiệu</td>
                    <td>2</td>
                    <td>A</td>
                </tr>
                <tr>
                    <td>20241</td>
                    <td>IT3180</td>
                    <td>Nhập môn công nghệ phần mềm</td>
                    <td>3</td>
                    <td>B</td>
                </tr>
                <tr>
                    <td>20241</td>
                    <td>IT3170</td>
                    <td>Thuật toán ứng dụng</td>
                    <td>2</td>
                    <td>B</td>
                </tr>
                <tr>
                    <td>20241</td>
                    <td>IT3150</td>
                    <td>Project I</td>
                    <td>2</td>
                    <td>A</td>
                </tr>
                <tr>
                    <td>20241</td>
                    <td>IT2030</td>
                    <td>Technical Writing and Presentation</td>
                    <td>3</td>
                    <td>A</td>
                </tr>

                <tr>
                    <td>20242</td>
                    <td>IT4991</td>
                    <td>Thực tập kỹ thuật</td>
                    <td>2</td>
                    <td>A</td>
                </tr>
                <tr>
                    <td>20242</td>
                    <td>IT4651</td>
                    <td>Thiết kế và triển khai mạng IP</td>
                    <td>3</td>
                    <td>A</td>
                </tr>
                <tr>
                    <td>20242</td>
                    <td>IT4210</td>
                    <td>Hệ nhúng</td>
                    <td>3</td>
                    <td>A+</td>
                </tr>
                <tr>
                    <td>20242</td>
                    <td>IT4060</td>
                    <td>Lập trình mạng</td>
                    <td>3</td>
                    <td>C+</td>
                </tr>
                <tr>
                    <td>20242</td>
                    <td>IT4015</td>
                    <td>Nhập môn an toàn thông tin</td>
                    <td>3</td>
                    <td>B</td>
                </tr>
                <tr>
                    <td>20242</td>
                    <td>IT3931</td>
                    <td>Project II</td>
                    <td>2</td>
                    <td>A</td>
                </tr>
                <tr>
                    <td>20242</td>
                    <td>IT3120</td>
                    <td>Phân tích và thiết kế hệ thống</td>
                    <td>2</td>
                    <td>B+</td>
                </tr>
            </tbody>
        </table>
    </div>

    <script>
        const gradePoints = {
            'A+': 4.0, 'A': 4.0,
            'B+': 3.5, 'B': 3.0,
            'C+': 2.5, 'C': 2.0,
            'D+': 1.5, 'D': 1.0,
            'F': 0.0
        };

        const table = document.getElementById('gradeTable').getElementsByTagName('tbody')[0];
        const rows = Array.from(table.rows);
        const originalOrder = [...rows]; // Lưu thứ tự ban đầu
        const gpaResult = document.getElementById('gpaResults');

        let highlightOn = false;
        let filterOn = false;
        let sortedOn = false;

        document.getElementById('btnHighlight').onclick = () => {
            highlightOn = !highlightOn;
            rows.forEach(r => {
                const grade = r.cells[4].textContent.trim();
                if (highlightOn) {
                    if (grade === 'A' || grade === 'A+') r.style.backgroundColor = '#c8f7c5';
                    else if (grade === 'F') r.style.backgroundColor = '#444';
                    else r.style.backgroundColor = '';
                } else {
                    r.style.backgroundColor = '';
                }
            });
        };

        document.getElementById('btnGPA').onclick = () => {
            let totalPoints = 0, totalCredits = 0;
            rows.forEach(r => {
                const credit = parseFloat(r.cells[3].textContent);
                const grade = r.cells[4].textContent.trim();
                if (credit > 0 && gradePoints[grade] !== undefined) {
                    totalPoints += gradePoints[grade] * credit;
                    totalCredits += credit;
                }
            });
            const gpa = totalCredits > 0 ? (totalPoints / totalCredits).toFixed(2) : '0.00';
            gpaResult.textContent = `GPA: ${gpa}`;
        };

        document.getElementById('btnFilter').onclick = () => {
            filterOn = !filterOn;
            rows.forEach(r => {
                const grade = r.cells[4].textContent.trim();
                if (filterOn) {
                    r.style.display = (grade === 'A' || grade === 'A+') ? '' : 'none';
                } else {
                    r.style.display = '';
                }
            });
        };

        document.getElementById('btnSort').onclick = () => {
            sortedOn = !sortedOn;
            if (sortedOn) {
                const sorted = [...rows].sort((a, b) => {
                    const gradeA = a.cells[4].textContent.trim();
                    const gradeB = b.cells[4].textContent.trim();
                    const diff = gradePoints[gradeA] - gradePoints[gradeB];
                    if (diff === 0) {
                        const plusA = gradeA.endsWith('+');
                        const plusB = gradeB.endsWith('+');
                        return plusA === plusB ? 0 : plusA ? 1 : -1;
                    }
                    return diff;
                });
                sorted.forEach(r => table.appendChild(r));
            } else {
                originalOrder.forEach(r => table.appendChild(r));
            }
        };
    </script>



</body>

</html>